<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æµ‹è¯•å¾®ä¿¡é€šçŸ¥</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 500px;
            text-align: center;
        }
        
        h1 {
            color: #667eea;
            margin-bottom: 20px;
        }
        
        .info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: left;
        }
        
        .info p {
            margin: 10px 0;
            line-height: 1.6;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 25px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s;
            margin: 10px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }
        
        .result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            display: none;
        }
        
        .result.success {
            background: #d4edda;
            color: #155724;
            border: 2px solid #28a745;
        }
        
        .result.error {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #dc3545;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”” å¾®ä¿¡é€šçŸ¥æµ‹è¯•</h1>
        
        <div class="info">
            <p><strong>ğŸ“± SendKey:</strong> SCT310265TyJ4D67VAfJfQTSj87381qEAY</p>
            <p><strong>ğŸ“§ æ¥æ”¶æ–¹å¼:</strong> å¾®ä¿¡ã€Œæ–¹ç³–æœåŠ¡å·ã€</p>
            <p><strong>â° æµ‹è¯•å†…å®¹:</strong> å‘é€ä¸€æ¡æµ‹è¯•æ¶ˆæ¯åˆ°ä½ çš„å¾®ä¿¡</p>
        </div>
        
        <button class="btn" onclick="testNotification()">ğŸ§ª å‘é€æµ‹è¯•é€šçŸ¥</button>
        <button class="btn" onclick="testDailyReminder()">ğŸ“… æµ‹è¯•æ¯æ—¥æé†’</button>
        <button class="btn" onclick="testEventReminder()">ğŸ¯ æµ‹è¯•äº‹ä»¶æé†’</button>
        
        <div id="result" class="result"></div>
    </div>
    
    <script src="notification_service.js"></script>
    <script>
        async function testNotification() {
            showLoading();
            
            const now = new Date();
            const timeStr = now.toLocaleString('zh-CN');
            
            const title = 'ğŸ“… æ—¥ç¨‹ç®¡ç†ç³»ç»Ÿ - æµ‹è¯•é€šçŸ¥';
            const content = `
## æµ‹è¯•æ¶ˆæ¯

è¿™æ˜¯ä¸€æ¡æµ‹è¯•é€šçŸ¥ï¼Œå‘é€æ—¶é—´ï¼š**${timeStr}**

### âœ… ç³»ç»Ÿä¿¡æ¯
- Serveré…±é…ç½®æˆåŠŸ
- å¾®ä¿¡é€šçŸ¥å·²å¯ç”¨
- å¯ä»¥æ¥æ”¶æ—¥ç¨‹æé†’

### ğŸ“‹ åŠŸèƒ½è¯´æ˜
ç³»ç»Ÿä¼šåœ¨ä»¥ä¸‹æƒ…å†µè‡ªåŠ¨å‘é€é€šçŸ¥ï¼š
1. é‡è¦äº‹ä»¶æå‰ 14/7/3/1 å¤©æé†’
2. æ¯æ—¥æ—©æ™¨ 8:00 å‘é€ä»Šæ—¥è®¡åˆ’
3. ä¸´æ—¶æ’å…¥äº‹ä»¶æ—¶æé†’

---
*æ¥è‡ªæ—¥ç¨‹ç®¡ç†ç³»ç»Ÿ*
            `;
            
            const success = await sendWeChatNotification(title, content);
            
            if (success) {
                showResult('success', 'âœ… æµ‹è¯•é€šçŸ¥å·²å‘é€æˆåŠŸï¼\n\nè¯·æŸ¥çœ‹ä½ çš„å¾®ä¿¡ã€Œæ–¹ç³–æœåŠ¡å·ã€');
            } else {
                showResult('error', 'âŒ é€šçŸ¥å‘é€å¤±è´¥\n\nè¯·æ£€æŸ¥ SendKey æ˜¯å¦æ­£ç¡®æˆ–ç½‘ç»œè¿æ¥');
            }
        }
        
        async function testDailyReminder() {
            showLoading();
            
            const today = new Date();
            const dayNames = ['å‘¨æ—¥', 'å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­'];
            const dateStr = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
            
            const title = `ğŸ“… æ¯æ—¥æé†’ - ${dateStr} ${dayNames[today.getDay()]}`;
            const content = `
## ä»Šæ—¥è®¡åˆ’

### â° æ—¶é—´å®‰æ’
- **07:30-11:30** é«˜èƒ½æ—¶æ®µ - æ ¸å¿ƒè€ƒç‚¹æ”»åš
- **13:30-17:30** å®æˆ˜æ—¶æ®µ - åˆ·é¢˜/é¢è¯•
- **19:00-22:30** å¤ç›˜æ—¶æ®µ - æ•´ç†ç¬”è®°
- **23:00-24:00** å¿…åšæ—¶æ®µ - è®¡ç®—æœºæŠ€æœ¯ç»ƒä¹ 

### ğŸ¯ ä»Šæ—¥é‡ç‚¹
- è€ƒç‚¹å­¦ä¹ 
- é”™é¢˜æ•´ç†
- æŠ€æœ¯ç»ƒä¹ 

### ğŸ’ª åŠ æ²¹ï¼
ä»Šå¤©ä¹Ÿè¦å…ƒæ°”æ»¡æ»¡å“¦ï¼

---
*æ¥è‡ªæ—¥ç¨‹ç®¡ç†ç³»ç»Ÿ*
            `;
            
            const success = await sendWeChatNotification(title, content);
            
            if (success) {
                showResult('success', 'âœ… æ¯æ—¥æé†’å·²å‘é€ï¼\n\nè¿™å°±æ˜¯ä½ æ¯å¤©æ—©ä¸Šä¼šæ”¶åˆ°çš„æé†’æ ¼å¼');
            } else {
                showResult('error', 'âŒ å‘é€å¤±è´¥ï¼Œè¯·æ£€æŸ¥é…ç½®');
            }
        }
        
        async function testEventReminder() {
            showLoading();
            
            const title = 'ğŸ”” é‡è¦äº‹ä»¶æé†’';
            const content = `
## è·ç¦»ã€Œæ˜¥å­£å¤§è€ƒã€è¿˜æœ‰ 7 å¤©ï¼

### ğŸ“… äº‹ä»¶ä¿¡æ¯
- **æ—¥æœŸ:** 2026-03-15
- **ç±»å‹:** è€ƒè¯•
- **å¤‡æ³¨:** 3æœˆ1æ—¥å¼€å§‹åœæ­¢å¨±ä¹ï¼Œå…¨åŠ›å†²åˆº

### âš ï¸ æé†’
è¿™æ˜¯æå‰ 7 å¤©çš„æé†’ï¼Œè¯·åšå¥½å‡†å¤‡ï¼

### ğŸ“ å»ºè®®
- å¤ä¹ é‡ç‚¹çŸ¥è¯†
- æ•´ç†é”™é¢˜æœ¬
- è°ƒæ•´ä½œæ¯æ—¶é—´
- å‡†å¤‡è€ƒè¯•ç”¨å“

---
*æ¥è‡ªæ—¥ç¨‹ç®¡ç†ç³»ç»Ÿ*
            `;
            
            const success = await sendWeChatNotification(title, content);
            
            if (success) {
                showResult('success', 'âœ… äº‹ä»¶æé†’å·²å‘é€ï¼\n\né‡è¦æ—¥æœŸå‰ä¼šè‡ªåŠ¨å‘é€è¿™æ ·çš„æé†’');
            } else {
                showResult('error', 'âŒ å‘é€å¤±è´¥ï¼Œè¯·æ£€æŸ¥é…ç½®');
            }
        }
        
        function showLoading() {
            const result = document.getElementById('result');
            result.className = 'result';
            result.style.display = 'block';
            result.textContent = 'â³ æ­£åœ¨å‘é€é€šçŸ¥...';
        }
        
        function showResult(type, message) {
            const result = document.getElementById('result');
            result.className = `result ${type}`;
            result.style.display = 'block';
            result.textContent = message;
        }
    </script>
</body>
</html>
